<!-- include header -->
<%- include("include/_header") %>

<!-- Main Site -->
<main>
    <div class="indexTopBar">
        <img src="img/SE-GitHub-image.png" alt="NCHS Logo" width="80" height="100"/>
        <h1>Habits of Mind Journal</h1>
        <a href="/createEntry" role="button">Create Entry</a>
    </div>
    <div class="desc">
        <% if(filter === undefined) { %>
            Add, edit, and delete entries from a Habits of Mind journal using this website. The journal has <%=entries.length%> now.
        <% } else { %>
            The website has <%=entries.length%> matching the habit <%=filter%>.
        <% } %>
    </div>
    <hr /><hr /><hr /><hr />
    <label class="filterLabel">Filter by habit
        <select id="filter">
            <% for(let habit of habits) { %>
            <option><%=habit%></option>
            <% } %>
        </select>
        <div class="filterButtons">
            <button class="filterButton">Filter Entries</button>
            <% if(filter !== undefined) {%>
                <a href="/" role="button">Undo Filter</a>
            <% } %>
        </div>
    </label>
    <div class="entries" id="entries">
        <% for(let entry of entries) { %>
            <div class="entry">
                <div class="entryDate"><%=entry.date%></div>
                <div class="entryHabit"><%=entry.habit%></div>
                <div class="entryContent"><%=entry.content%></div>
                <div><a href="/editEntry/<%=entry.id%>" role="button" class="secondary">Edit Content</a></div>
            </div>
        <% } %>
    </div>
</main>

<!-- End of Main Site -->

<script src="/js/index.js"></script>

<!-- include footer -->
<%- include("include/_footer") %>